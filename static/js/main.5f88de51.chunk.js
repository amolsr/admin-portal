(this.webpackJsonpadminpanel=this.webpackJsonpadminpanel||[]).push([[0],{381:function(e,t,n){},387:function(e,t,n){},452:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),o=n.n(r),i=n(15),c=n.n(i),s=(n(381),n(85)),l=n(33),u=n(17),d=n.n(u),p=n(31),m=n(128),f=n(492),h=n(311),j=n(310),b=n(476),g=n(130),x=n(474),O=n(347),y=n.n(O),w=n(88),k=n(309),v=n(16),S=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function P(e){var t=S(),n=Object(r.useState)("7300707372"),o=Object(m.a)(n,2),i=o[0],c=o[1];Object(r.useEffect)((function(){localStorage.removeItem("token")}),[]);return Object(a.jsxs)(x.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(x.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(x.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(f.a,{className:t.avatar,children:Object(a.jsx)(y.a,{})}),Object(a.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/admin/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:i})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),localStorage.setItem("token",t["x-auth"]),e.history.push("./dashboard")})).catch((function(e){v.c.error(e.message)}))},children:[Object(a.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"id",label:"PIN",value:i,type:"password",id:"password",onChange:function(e){c(e.target.value)},autoComplete:"off"}),Object(a.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(a.jsx)(x.a,{container:!0,children:Object(a.jsx)(x.a,{item:!0,xs:!0,children:Object(a.jsx)(b.a,{href:"#",variant:"body2",children:"Forgot password?"})})})]})]})})]})}var C=n(2),E=Object(k.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function T(){var e=E(),t=Object(C.a)(e.paper,e.fixedHeight);return Object(a.jsx)("div",{style:{alignContent:"center",textAlign:"center"},children:Object(a.jsxs)(x.a,{container:!0,spacing:3,children:[Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsxs)(g.a,{className:t,children:[" ",Object(a.jsx)("img",{src:"".concat("/admin-portal","/image/meesho@2x.png"),alt:"meesho"})]})}),Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsxs)(g.a,{className:t,children:[" ",Object(a.jsx)("img",{src:"".concat("/admin-portal","/image/Club_Factory_Logo@2x.png"),alt:"Club Factory"})]})}),Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsxs)(g.a,{className:t,children:[" ",Object(a.jsx)("img",{src:"".concat("/admin-portal","/image/flipkart.svg"),alt:"Flipkart"})]})}),Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsxs)(g.a,{className:t,children:[" ",Object(a.jsx)("img",{src:"".concat("/admin-portal","/image/amazon-1.svg"),alt:"amazon"})]})}),Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsxs)(g.a,{className:t,children:[" ",Object(a.jsx)("img",{src:"".concat("/admin-portal","/image/amazon-1.svg"),alt:"amazon fba"}),"FBA"]})}),Object(a.jsx)(x.a,{item:!0,xs:12,md:4,lg:4,children:Object(a.jsx)(g.a,{className:t})})]})})}n(387);var N=n(86),A=n(30),F=n(480),R=n(68),_=n(481),D=n(314),I=n(355),M=n.n(I),U=n(248),J=n(482),z=n(354),B=n.n(z),L=n(356),V=n.n(L),X=n(349),H=n(350),W=n(361),G=n(359),q=n(251),Z=n.n(q),$=n(460),K=n(461),Q=n(478),Y=n(351),ee=n.n(Y),te=n(312),ne=n(479),ae=n(252),re=n.n(ae),oe=n(253),ie=n.n(oe),ce=n(477),se=n(4);var le=function(e){Object(W.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleClick=function(t){e.setState(Object(N.a)({},t,!e.state[t]))},e}return Object(H.a)(n,[{key:"componentDidMount",value:function(){if(this.props.match.params.platform){var e=this.props.match.params.platform.replace(/([A-Z])/g," $1").trim();this.setState(Object(N.a)({},e,!this.state[this.props.match.params.platform]))}}},{key:"render",value:function(){var e=this,t=[{id:1,title:"Dashboard",link:"/dashboard"},{id:2,title:"Meesho",items:[{id:1,name:"Commission",link:"/dashboard/commission/meesho"}]},{id:3,title:"Club Factory",items:[{id:1,name:"Commission",link:"/dashboard/commission/clubFactory"},{id:2,name:"Shipping",link:"/dashboard/shipping/clubFactory"}]},{id:4,title:"Flipkart",items:[{id:1,name:"Commission",link:"/dashboard/commission/flipkart"},{id:2,name:"Shipping",link:"/dashboard/shipping/flipkart"},{id:3,name:"Fixed Fees",link:"/dashboard/fixedfees/flipkart"},{id:4,name:"Collection Fees",link:"/dashboard/collectionfees/flipkart"}]},{id:4,title:"Amazon",items:[{id:1,name:"Referral",link:"/dashboard/referral/amazon"},{id:2,name:"Closing Fees",link:"/dashboard/closingfees/amazon"},{id:3,name:"Shipping",link:"/dashboard/shipping/amazon"}]},{id:4,title:"Amazon FBA",items:[{id:1,name:"Referral",link:"/dashboard/referral/amazonFba"},{id:2,name:"Closing Fees",link:"/dashboard/closingfees/amazonFba"},{id:3,name:"Shipping",link:"/dashboard/shipping/amazonFba"},{id:4,name:"Fulfillment Fees",link:"/dashboard/fulfillmentfees/amazonFba"}]}],n=this.props.classes;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ce.a,{}),Object(a.jsx)($.a,{className:n.root,children:t.map((function(r){return Object(a.jsxs)("div",{children:[null!=r.items?Object(a.jsxs)(K.a,{button:!0,onClick:e.handleClick.bind(e,r.title),children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(te.a,{primary:r.title}),null!=r.items?Object(a.jsx)("div",{children:e.state[r.title]?Object(a.jsx)(re.a,{}):Object(a.jsx)(ie.a,{})}):""]},r.id):Object(a.jsx)(s.b,{to:r.link,style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(K.a,{button:!0,onClick:e.handleClick.bind(e,r.title),children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(te.a,{primary:r.title}),null!=r.items?Object(a.jsx)("div",{children:e.state[r.title]?Object(a.jsx)(re.a,{}):Object(a.jsx)(ie.a,{})}):""]},r.id)}),null!=r.items?Object(a.jsxs)("div",{children:[Object(a.jsx)(ne.a,{component:"li",in:e.state[r.title],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)($.a,{disablePadding:!0,children:r.items.map((function(e){return Object(a.jsx)(s.b,{to:e.link,style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(K.a,{button:!0,className:n.nested,children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(ee.a,{})}),Object(a.jsx)(te.a,{primary:e.name},e.id)]},e.id)})}))})},t.id)," "]},r.id):" "]},r.id)}))})]})}}]),n}(o.a.Component),ue=Object(se.a)((function(e){return{root:{width:"100%",maxWidth:360,background:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}))(Object(l.g)(le)),de=n(362),pe=n(154),me=n(367),fe=n(56),he="SET_ALERT",je="REMOVE_ALERT",be="SET_DATA",ge="REMOVE_DATA",xe="UPDATE_PRODUCT",Oe="DELETE_PRODUCT",ye="ADD_PRODUCT",we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){n({type:he,payload:{set:e,form:t}})}},ke=function(){return function(e){e({type:je,payload:{}})}},ve=n(257),Se=Object(k.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));function Pe(e){var t=Object(fe.c)(),n=Object(l.f)(),o=Se(),i=Object(fe.d)((function(e){return e.alert})),c=Object(r.useState)({}),s=Object(m.a)(c,2),u=s[0],d=s[1],p=function(e){d(Object(A.a)(Object(A.a)({},u),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("form",{className:o.root,noValidate:!0,onSubmit:function(e){e.preventDefault(),t(i.form.onSubmit(u,n.platform))},autoComplete:"off",children:[i.form.fields.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{name:e,label:e.charAt(0).toUpperCase()+e.substr(1).toLowerCase(),variant:"outlined",value:u[e],onChange:p}),Object(a.jsx)("br",{})]},t)})),Object(a.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}var Ce=o.a.forwardRef((function(e,t){var n=e.in,r=e.children,o=e.onEnter,i=e.onExited,c=Object(de.a)(e,["in","children","onEnter","onExited"]),s=Object(ve.useSpring)({from:{opacity:0},to:{opacity:n?1:0},onStart:function(){n&&o&&o()},onRest:function(){!n&&i&&i()}});return Object(a.jsx)(ve.animated.div,Object(A.a)(Object(A.a)({ref:t,style:s},c),{},{children:r}))})),Ee=Object(k.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Te(){var e=Ee(),t=Object(fe.c)(),n=Object(fe.d)((function(e){return e.alert}));return Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n.set,onClose:function(){t(ke())},closeAfterTransition:!0,BackdropComponent:me.a,BackdropProps:{timeout:500},children:Object(a.jsx)(Ce,{in:n.set,children:Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)("h2",{id:"transition-modal-title",children:n.form.type+" "+n.form.page}),Object(a.jsx)("p",{id:"transition-modal-description",children:n.form.set?Object(a.jsx)(Pe,{action:n.form.type,product:n.form.page}):Object(a.jsx)(a.Fragment,{})})]})})})})}var Ne=Object(k.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(A.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(N.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(8),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ae(e){var t=Ne(),n=o.a.useState(!0),r=Object(m.a)(n,2),i=r[0],c=r[1];return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(F.a,{}),Object(a.jsx)(_.a,{position:"absolute",className:Object(C.a)(t.appBar,i&&t.appBarShift),children:Object(a.jsxs)(D.a,{className:t.toolbar,children:[Object(a.jsx)(U.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(C.a)(t.menuButton,i&&t.menuButtonHidden),children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"4posper"}),Object(a.jsx)(s.b,{to:"",style:{color:"inherit",textDecoration:"none"},children:Object(a.jsx)(U.a,{color:"inherit",children:Object(a.jsx)(M.a,{})})})]})}),Object(a.jsxs)(R.a,{variant:"permanent",classes:{paper:Object(C.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i,children:[Object(a.jsx)("div",{className:t.toolbarIcon,children:Object(a.jsx)(U.a,{onClick:function(){c(!1)},children:Object(a.jsx)(V.a,{})})}),Object(a.jsx)(ue,{})]}),Object(a.jsxs)("main",{className:t.content,children:[Object(a.jsx)("div",{className:t.appBarSpacer}),Object(a.jsx)(J.a,{maxWidth:"lg",className:t.container,children:e.children})]}),Object(a.jsx)(Te,{})]})}var Fe=n(249),Re=n.n(Fe),_e=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/commission/addNew",{method:"POST",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({category:e.category,commission:e.commission})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),n({type:ye,payload:{newProduct:e}}),n(ke())})).catch((function(e){v.c.error(e.message)}))}};function De(e,t){var n={};if(!Object.is(e,t))return t&&"object"===typeof t?(Object.keys(e||{}).concat(Object.keys(t||{})).forEach((function(a){if(t[a]===e[a]||Object.is(e[a],t[a])||(n[a]=t[a]),"object"===typeof t[a]&&"object"===typeof e[a]){var r=De(e[a],t[a]);void 0!==r&&(n[a]=r)}})),n):t}var Ie=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/outwardShipping/addNew",{method:"POST",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(e)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){v.c.success(e.message),n(Ve(t,"Shipping")),n(ke())})).catch((function(e){v.c.error(e.message)}))}},Me=function(e,t,n){return function(a){var r=JSON.parse(JSON.stringify(e));delete r.tableData;var o=De(r,t),i={};"clubFactory"===n&&(i={type:e.type+"OutwardShipping",field:e.region+Object.keys(o)[0].charAt(0).toUpperCase()+Object.keys(o)[0].slice(1),newValue:Object.values(o)[0]}),"flipkart"===n&&(i={type:"weight"+t.type.charAt(0).toUpperCase()+t.type.slice(1)+"_outwardShipping",field:Object.keys(o)[0],newValue:Object.values(o)[0]}),fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+n+"/admin/outwardShipping/update",{method:"PUT",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(i)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(n){v.c.success(n.message),a({type:xe,payload:{newProduct:t,oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}},Ue=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/fixedFees/addNew",{method:"POST",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(e)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){v.c.success(e.message),n(Ve(t,"Fixed Fees")),n(ke())})).catch((function(e){v.c.error(e.message)}))}},Je=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/collectionFees/addNew",{method:"POST",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(e)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){v.c.success(e.message),n(Ve(t,"Fixed Fees")),n(ke())})).catch((function(e){v.c.error(e.message)}))}},ze=function(e,t,n){return function(a){var r={};"flipkart"===n&&(r={minSp:t.minSp,maxSp:t.maxSp,newRate:t.rate}),fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+n+"/admin/collectionFees/update",{method:"PUT",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(n){v.c.success(n.message),a({type:xe,payload:{newProduct:t,oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}},Be=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/collectionFees/delete",{method:"DELETE",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({minSp:e.minSp})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),n({type:Oe,payload:{oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}},Le=function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/referral/addNew",{method:"POST",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(e)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){v.c.success(e.message),n(Ve(t,"Referral")),n(ke())})).catch((function(e){v.c.error(e.message)}))}},Ve=function(e,t){return function(n){var a=[],r={},o=[],i="";if(console.log(e+" "+t),"Commission"===t){a=[{title:"Category",field:"category",editable:"onAdd"},{title:"Commission",field:"commission"}];var c={set:!0,type:"Add",page:t,fields:["category","commission"],onSubmit:_e};o=[{icon:"add",tooltip:"Add Commission",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,c)),e()}),1e3)}))}}],r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(function(e,t,n){return function(a){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+n+"/admin/commission/update",{method:"PUT",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({category:e.category,newCommission:t.commission})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(n){v.c.success(n.message),a({type:xe,payload:{newProduct:t,oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(a,t,e)),r()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,r){setTimeout((function(){n(function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/commission/delete",{method:"DELETE",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({category:e.category})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),n({type:Oe,payload:{oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(t,e)),a()}),1e3)}))}},i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/commission/getAll"}if("Shipping"===t){if("clubFactory"===e){a=[{title:"Type",field:"type",editable:"onAdd"},{title:"Region",field:"region",editable:"onAdd"},{title:"Min",field:"min"},{title:"Max",field:"max"}];var s={set:!0,type:"Add",page:t,fields:["type","field","value"],onSubmit:Ie};o=[{icon:"add",tooltip:"Add Shipping",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,s)),e()}),1e3)}))}}]}if("flipkart"===e){a=[{title:"Type",field:"type",editable:"onAdd"},{title:"Local",field:"local"},{title:"Zonal",field:"zonal"},{title:"National",field:"national"}];var l={set:!0,type:"Add",page:t,fields:["type","field","value"],onSubmit:Ie};o=[{icon:"add",tooltip:"Add Shipping",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,l)),e()}),1e3)}))}}]}r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(Me(a,t,e)),r()}),1e3)}))}},i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/outwardShipping/getAll"}if("Fixed Fees"===t){a=[{title:"Min",field:"minSp",editable:"onAdd"},{title:"Max",field:"maxSp"},{title:"Range",field:"rate"}],i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/fixedFees/getAll";var u={set:!0,type:"Add",page:t,fields:["minSp","rate"],onSubmit:Ue};o=[{icon:"add",tooltip:"Add Fixed Fees",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,u)),e()}),1e3)}))}}],r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(function(e,t,n){return function(a){var r={};"flipkart"===n&&(r={minSp:t.minSp,maxSp:t.maxSp,newRate:t.rate}),fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+n+"/admin/fixedFees/update",{method:"PUT",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify(r)}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(n){v.c.success(n.message),a({type:xe,payload:{newProduct:t,oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(a,t,e)),r()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,r){setTimeout((function(){n(function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/fixedFees/delete",{method:"DELETE",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({minSp:e.minSp})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),n({type:Oe,payload:{oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(t,e)),a()}),1e3)}))}}}if("Collection Fees"===t){a=[{title:"Min",field:"minSp",editable:"onAdd"},{title:"Max",field:"maxSp"},{title:"Post Paid %",field:"postPaidPercentage"},{title:"Post Paid \u20b9",field:"postPaidRuppee"},{title:"Pre Paid %",field:"prePaidPercentage"},{title:"Pre Paid \u20b9",field:"prePaidRuppee"}],i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/collectionFees/getAll";var m={set:!0,type:"Add",page:t,fields:["minSp","maxSp","prePaidType","prePaidValue","postPaidType","postPaidValue"],onSubmit:Je};o=[{icon:"add",tooltip:"Add Collection Fees",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,m)),e()}),1e3)}))}}],r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(ze(a,t,e)),r()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,r){setTimeout((function(){n(Be(t,e)),a()}),1e3)}))}}}if("Referral"===t){a=[{title:"Category",field:"category",editable:"onAdd"},{title:"Subcategory",field:"subcategory",editable:"onAdd"},{title:"Partition Amount",field:"partitionAmount"},{title:"Primary Commission",field:"primaryCommission"},{title:"Secondary Commission",field:"secondaryCommission"}],i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/referral/getAll";var f={set:!0,type:"Add",page:t,fields:["category","subcategory","partitionAmount","primaryCommission","secondaryCommission"],onSubmit:Le};o=[{icon:"add",tooltip:"Add Referral",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,f)),e()}),1e3)}))}}],r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(function(e,t,n){return function(a){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+n+"/admin/referral/update",{method:"PUT",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({category:e.category,subcategory:e.subcategory,partitionAmount:t.partitionAmount,primaryCommission:t.primaryCommission,secondaryCommission:t.secondaryCommission})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(n){v.c.success(n.message),a({type:xe,payload:{newProduct:t,oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(a,t,e)),r()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,r){setTimeout((function(){n(function(e,t){return function(n){fetch("https://ecommerce-calculator.herokuapp.com/api/MPC/"+t+"/admin/referral/delete",{method:"DELETE",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")},body:JSON.stringify({category:e.category,subcategory:e.subcategory})}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){v.c.success(t.message),n({type:Oe,payload:{oldProduct:e}})})).catch((function(e){v.c.error(e.message)}))}}(t,e)),a()}),1e3)}))}}}if("Closing Fees"===t){a=[{title:"Min",field:"minSp",editable:"onAdd"},{title:"Max",field:"maxSp"},{title:"Easy Ship Non Prime",field:"easyShipNonPrime"},{title:"Easy Ship Prime",field:"easyShipPrime"},{title:"Self Ship",field:"selfShip"},{title:"FBA",field:"fba"}],i="https://ecommerce-calculator.herokuapp.com/api/MPC/"+e+"/admin/closingFees/getAll";var h={set:!0,type:"Add",page:t,fields:["minSp","maxSp","prePaidType","prePaidValue","postPaidType","postPaidValue"],onSubmit:Je};o=[{icon:"add",tooltip:"Add Closing Fees",isFreeAction:!0,onClick:function(e){return new Promise((function(e,t){setTimeout((function(){n(we(!0,h)),e()}),1e3)}))}}],r={onRowUpdate:function(t,a){return new Promise((function(r,o){setTimeout((function(){n(ze(a,t,e)),r()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,r){setTimeout((function(){n(Be(t,e)),a()}),1e3)}))}}}fetch(i,{method:"GET",headers:{"content-type":"application/json","x-auth":localStorage.getItem("token")}}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok||401===parseInt(t.status)){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.message);case 5:return 401===parseInt(t.status)&&localStorage.removeItem("token"),e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){n({type:be,payload:{column:a,data:e,editable:r,actions:o}})})).catch((function(e){return v.c.error(e.message)}))}};function Xe(e){var t=Object(l.f)(),n=Object(fe.c)(),o=Object(fe.d)((function(e){return e.table}));return Object(r.useEffect)((function(){n((function(e){e({type:ge,payload:{}})})),n(Ve(t.platform,e.type))}),[n,t.platform,e.type]),Object(a.jsx)(Re.a,{title:t.platform+" "+e.type,columns:o.column,data:o.data,editable:o.editable,actions:o.actions,options:{paging:!1,actionsColumnIndex:-1}})}var He=function(){return Object(a.jsx)(s.a,{basename:"/admin-portal",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/dashboard/commission/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Commission"})})}),Object(a.jsx)(l.a,{path:"/dashboard/shipping/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Shipping"})})}),Object(a.jsx)(l.a,{path:"/dashboard/fixedfees/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Fixed Fees"})})}),Object(a.jsx)(l.a,{path:"/dashboard/collectionfees/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Collection Fees"})})}),Object(a.jsx)(l.a,{path:"/dashboard/referral/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Referral"})})}),Object(a.jsx)(l.a,{path:"/dashboard/closingfees/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Closing Fees"})})}),Object(a.jsx)(l.a,{path:"/dashboard/fulfillmentfees/:platform",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Xe,{type:"Fulfillment Fees"})})}),Object(a.jsx)(l.a,{path:"/dashboard",children:Object(a.jsx)(Ae,{children:Object(a.jsx)(T,{})})}),Object(a.jsx)(l.a,{path:"/",component:P}),Object(a.jsx)(l.a,{path:"*",children:Object(a.jsx)("h1",{children:"Not Found"})})]})})},We=n(60),Ge=n(358),qe={set:!1,form:{set:!1,page:"",type:""}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(A.a)(Object(A.a)({},e),t.payload);case je:return Object(A.a)(Object(A.a)({},e),{},{set:!1,form:qe.form});default:return e}},$e=n(360),Ke={column:[],data:[],editable:{},actions:[]},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(A.a)(Object(A.a)({},e),t.payload);case ye:return Object(A.a)(Object(A.a)({},e),{},{data:[t.payload.newProduct].concat(Object($e.a)(e.data))});case xe:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.map((function(e){return void 0!==e._id&&e._id===t.payload.oldProduct._id||void 0!==e.type&&e.type===t.payload.oldProduct.type&&e.region===t.payload.oldProduct.region||void 0!==e.minSp&&e.minSp===t.payload.oldProduct.minSp&&e.maxSp===t.payload.oldProduct.maxSp?t.payload.newProduct:e}))});case Oe:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.filter((function(e){return e._id!==t.payload.oldProduct._id}))});case ge:return Object(A.a)(Object(A.a)({},e),{},{column:[],data:[],editable:{},actions:[]});default:return e}},Ye=Object(We.c)({alert:Ze,table:Qe}),et=[Ge.a],tt=Object(We.e)(Ye,{},Object(We.d)(We.a.apply(void 0,et),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),nt=n(484),at=n(117),rt=Object(at.a)({palette:{primary:{main:"#3e4f60"},secondary:{main:"#f7932e"}}});n(451);c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(fe.a,{store:tt,children:Object(a.jsxs)(nt.a,{theme:rt,children:[Object(a.jsx)(F.a,{}),Object(a.jsx)(He,{}),Object(a.jsx)(v.b,{className:"impct-toast",position:"bottom-right",autoClose:3e3,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!1,pauseOnHover:!0,transition:v.a})]})})}),document.getElementById("root"))}},[[452,1,2]]]);
//# sourceMappingURL=main.5f88de51.chunk.js.map